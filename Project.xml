<?xml version="1.0" encoding="UTF-8"?>
<buildster directory="build" distribution="../Distribution" cpp="17">
  <project directory="../Project">
    <dependencies>
	  <if_check id="BUILDSTER_OS" check="Windows">
		<dependency>
          <label>fluidsynth</label>
          <subpath>build</subpath>
          <remote>
            <url>https://github.com/FluidSynth/fluidsynth/releases/download/v2.3.3/fluidsynth-2.3.3-win10-x64.zip</url>
            <wget>fluidsynth-2.3.3-win10-x64.zip</wget>
          </remote>
          <build>
            <arguments></arguments>
            <shells>
              <shell>
                <work><origin></origin></work>
                <commands>
				  <command>
				    <if_exists>
					  <exists><distribution></distribution>/../../_prebuilt/fluidsynth-2.3.3-win10-x64.zip</exists>
					  echo "fluidsynth"
					  <else>
						<copy>
						  <from><origin></origin>/fluidsynth-2.3.3-win10-x64.zip</from>
						  <to><distribution></distribution>/../../_prebuilt/fluidsynth-2.3.3-win10-x64.zip</to>
						</copy>
					  </else>
					</if_exists>
				  </command>
                </commands>
              </shell>
              <shell>
                <work><distribution></distribution>/../../_prebuilt</work>
                <commands>
                  <command><extract><distribution></distribution>/../../_prebuilt/fluidsynth-2.3.3-win10-x64.zip</extract></command>
                </commands>
              </shell>
            </shells>
          </build>
          <exports>
            <export type="headers">
              <key>FLUIDSYNTH_INCLUDE_PATH</key>
              <value><distribution></distribution>/../../_prebuilt/fluidsynth-2.3.3-win10-x64/include</value>
            </export>
            <export type="libraries">
              <key>FLUIDSYNTH_LIBRARIES_PATH</key>
              <value><distribution></distribution>/../../_prebuilt/fluidsynth-2.3.3-win10-x64/lib</value>
            </export>
            <!--<export type="libraries">
              <key>FLUIDSYNTH_BINARIES_PATH</key>
              <value><distribution></distribution>/../../_prebuilt/fluidsynth-2.3.3-win10-x64/bin</value>
            </export>-->
          </exports>
          <imports></imports>
        </dependency>
		<dependency>
          <label>clap</label>
          <subpath>build</subpath>
          <local><path><distribution></distribution>/../../clap</path></local>
          <build>
            <arguments></arguments>
            <shells>
              <shell>
                <work><origin></origin></work>
                <commands>
				  <command>echo "clap"</command>
                </commands>
              </shell>
            </shells>
          </build>
          <exports>
            <export type="headers">
              <key>CLAP_INCLUDE_PATH</key>
              <value><distribution></distribution>/../../clap/include</value>
            </export>
          </exports>
          <imports></imports>
        </dependency>
		<dependency>
          <label>claphelp</label>
          <subpath>build</subpath>
          <local><path><distribution></distribution>/../../clap-helpers</path></local>
          <build>
            <arguments></arguments>
            <shells>
              <shell>
                <work><origin></origin></work>
                <commands>
				  <command>echo "claphelp"</command>
                </commands>
              </shell>
            </shells>
          </build>
          <exports>
            <export type="headers">
              <key>CLAPHELP_INCLUDE_PATH</key>
              <value><distribution></distribution>/../../clap-helpers/include</value>
            </export>
          </exports>
          <imports></imports>
        </dependency>
	  </if_check>
      <dependency>
        <label>sfml</label>
        <subpath>build</subpath>
        <remote>
          <url>https://github.com/PierceLBrooks/SFML.git</url>
          <git_repo>
            <branch>2.6.1</branch>
            <credentials>
              <username>username</username>
              <password>password</password>
            </credentials>
          </git_repo>
        </remote>
        <build>
          <arguments>
            <argument>-DBUILD_SHARED_LIBS=OFF</argument>
            <argument>-DSFML_BUILD_AUDIO=OFF</argument>
            <argument>-DSFML_BUILD_NETWORK=OFF</argument>
          </arguments>
          <cmake>
            <generator>
              <switch id="BUILDSTER_OS">
                <case check="Windows">MinGW Makefiles</case>
                <case check="Linux">Unix Makefiles</case>
                <case check="Darwin">Xcode</case>
                <default><quit></quit></default>
              </switch>
            </generator>
            <source>..</source>
          </cmake>
        </build>
        <exports>
          <export type="all">
            <key>SFML_ROOT</key>
            <value><install></install></value>
          </export>
          <export type="headers">
            <key>SFML_INCLUDE_PATH</key>
            <value><install></install>/include</value>
          </export>
          <export type="libraries">
            <key>SFML_LIBRARIES_PATH</key>
            <value><install></install>/lib</value>
          </export>
        </exports>
        <imports></imports>
      </dependency>
      <!--<dependency>
        <label>lxgui</label>
        <subpath>build</subpath>
        <remote>
          <url>https://github.com/PierceLBrooks/lxgui.git</url>
          <git_repo>
            <branch>main</branch>
            <credentials>
              <username>username</username>
              <password>password</password>
            </credentials>
          </git_repo>
        </remote>
        <build>
          <arguments></arguments>
          <cmake>
            <generator>
              <switch id="BUILDSTER_OS">
                <case check="Windows">MinGW Makefiles</case>
                <case check="Linux">Unix Makefiles</case>
                <case check="Darwin">Xcode</case>
                <default><quit></quit></default>
              </switch>
            </generator>
            <source>..</source>
          </cmake>
        </build>
        <exports>
          <export type="all">
            <key>LXGUI_ROOT</key>
            <value><install></install></value>
          </export>
          <export type="headers">
            <key>LXGUI_INCLUDE_PATH</key>
            <value><install></install>/include</value>
          </export>
          <export type="libraries">
            <key>LXGUI_LIBRARIES_PATH</key>
            <value><install></install>/lib</value>
          </export>
        </exports>
        <imports>
          <import>sfml</import>
        </imports>
      </dependency>-->
    </dependencies>
    <targets>
      <target type="library" linkage="shared">
        <label>fluidsynthclap</label>
		<generator>
		  <switch id="BUILDSTER_OS">
			<case check="Windows">MinGW Makefiles</case>
			<case check="Linux">Unix Makefiles</case>
			<case check="Darwin">Xcode</case>
			<default><quit></quit></default>
		  </switch>
		</generator>
        <definitions></definitions>
		<arguments>
		  <argument>-DCMAKE_EXPORT_COMPILE_COMMANDS=1</argument>
		</arguments>
        <links>
          <if_check id="BUILDSTER_OS" check="Windows">
            <link linkage="static" language="C">*fluidsynth.dll*</link>
          </if_check>
		  <link linkage="static" language="CXX">*sfml-graphics-s<if_check id="BUILDSTER_VARIANT" check="Debug">-d</if_check>*</link>
		  <link linkage="static" language="CXX">*sfml-window-s<if_check id="BUILDSTER_VARIANT" check="Debug">-d</if_check>*</link>
		  <link linkage="static" language="CXX">*sfml-system-s<if_check id="BUILDSTER_VARIANT" check="Debug">-d</if_check>*</link>
		  <link>*freetype*</link>
		</links>
        <imports>
          <if_check id="BUILDSTER_OS" check="Windows">
            <import>fluidsynth</import>
            <import>clap</import>
            <import>claphelp</import>
          </if_check>
          <import>sfml</import>
          <!--<import>lxgui</import>-->
        </imports>
        <post>
          <shells>
            <shell>
              <work><distribution></distribution>/../../jsmk</work>
              <commands>
                <command>npm install</command>
              </commands>
            </shell>
            <shell>
              <work><distribution></distribution>/../..</work>
              <commands>
                <command>
                  <set>
                    <key>PATH</key>
                    <value>
                      <switch id="BUILDSTER_OS">
                        <case check="Windows"><distribution></distribution>/../../jsmk;<data id="PATH"></data></case>
                        <default><distribution></distribution>/../../jsmk:<data id="PATH"></data></default>
                      </switch>
                    </value>
                  </set>
                </command>
                <command>
                  <write>
                    <destination><distribution></distribution>/../../Project.json</destination>
                    <content>{"variant":"<lower><data id="BUILDSTER_VARIANT"></data></lower>","distribution":"<distribution></distribution>"}</content>
                  </write>
                </command>
                <command><delete><distribution></distribution>/libfluidsynth.a</delete></command>
                <command>
				  <switch id="BUILDSTER_OS">
					<case check="Windows">
					  <switch id="BUILDSTER_VARIANT">
						<case check="Debug">node <distribution></distribution>/../../jsmk/main.js -l DEBUG</case>
						<default>node <distribution></distribution>/../../jsmk/main.js -l DEBUG -p <lower><data id="BUILDSTER_VARIANT"></data></lower></default>
					  </switch>
					</case>
					<default>
					  <switch id="BUILDSTER_VARIANT">
						<case check="Debug">jsmk -l DEBUG</case>
						<default>jsmk -l DEBUG -p <lower><data id="BUILDSTER_VARIANT"></data></lower></default>
					  </switch>
					</default>
				  </switch>
                </command>
              </commands>
            </shell>
          </shells>
        </post>
      </target>
    </targets>
  </project>
</buildster>
